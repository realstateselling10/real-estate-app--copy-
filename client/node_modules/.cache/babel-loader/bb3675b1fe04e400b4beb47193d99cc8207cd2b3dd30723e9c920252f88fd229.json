{"ast":null,"code":"import _objectSpread from\"/home/aavash/Desktop/real-estate-app (copy)/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{useTheme}from'../context/ThemeContext';import{useNavigate}from\"react-router-dom\";// Use useNavigate instead of Navigate\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const{isDarkMode}=useTheme();const navigate=useNavigate();// Move useNavigate here\nconst[formData,setFormData]=useState({email:'',password:''});const[loading,setLoading]=useState(false);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const API_URL=process.env.REACT_APP_API_URL;const response=await axios.post(\"\".concat(API_URL,\"/api/admin/login\"),formData,{withCredentials:true});if(response.data.token){console.log('Login successful, received token');console.log(token);navigate('/admin');}}catch(error){alert('Login failed. Please check your credentials and try again.');console.error('Login error:',error.response?error.response.data:error.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen py-12 sm:px-6 lg:px-8 transition-colors duration-200\\n            \".concat(isDarkMode?'bg-gray-900 text-white':'bg-gray-50 text-gray-900'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold\",children:\"Welcome Back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm \".concat(isDarkMode?'text-gray-400':'text-gray-600'),children:\"Sign in to manage your properties\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-8 px-4 shadow sm:rounded-lg sm:px-10 transition-colors duration-200\\n                    \".concat(isDarkMode?'bg-gray-800':'bg-white'),children:[/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium\\n                                \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"Email address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",required:true,value:formData.email,onChange:handleChange,className:\"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 \\n                                        focus:outline-none focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\\n                                        \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white':'bg-white border-gray-300 text-gray-900')})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium\\n                                \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",autoComplete:\"current-password\",required:true,value:formData.password,onChange:handleChange,className:\"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 \\n                                        focus:outline-none focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\\n                                        \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white':'bg-white border-gray-300 text-gray-900')})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300\",children:\"Sign in\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full border-t \".concat(isDarkMode?'border-gray-700':'border-gray-300')})})})})]})})]});};export default Login;","map":{"version":3,"names":["React","useState","axios","useTheme","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","isDarkMode","navigate","formData","setFormData","email","password","loading","setLoading","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","API_URL","process","env","REACT_APP_API_URL","response","post","concat","withCredentials","data","token","console","log","error","alert","message","className","children","onSubmit","htmlFor","id","type","autoComplete","required","onChange"],"sources":["/home/aavash/Desktop/real-estate-app (copy)/client/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios'; import { useTheme } from '../context/ThemeContext';\nimport { useNavigate } from \"react-router-dom\";  // Use useNavigate instead of Navigate\n\nconst Login = () => {\n    const { isDarkMode } = useTheme();\n    const navigate = useNavigate(); // Move useNavigate here\n    const [formData, setFormData] = useState({\n        email: '',\n        password: ''\n    });\n    const [loading, setLoading] = useState(false);\n\n    const handleChange = (e) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        try {\n            const API_URL = process.env.REACT_APP_API_URL;\n            const response = await axios.post(`${API_URL}/api/admin/login`, formData, {\n                withCredentials: true\n            });\n\n            if (response.data.token) {\n                console.log('Login successful, received token');\n                console.log(token);\n                navigate('/admin');\n            }\n        } catch (error) {\n            alert('Login failed. Please check your credentials and try again.');\n            console.error('Login error:', error.response ? error.response.data : error.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className={`min-h-screen py-12 sm:px-6 lg:px-8 transition-colors duration-200\n            ${isDarkMode ? 'bg-gray-900 text-white' : 'bg-gray-50 text-gray-900'}`}>\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n                <h2 className=\"mt-6 text-center text-3xl font-extrabold\">\n                    Welcome Back\n                </h2>\n                <p className={`mt-2 text-center text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                    Sign in to manage your properties\n                </p>\n            </div>\n\n            <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n                <div className={`py-8 px-4 shadow sm:rounded-lg sm:px-10 transition-colors duration-200\n                    ${isDarkMode ? 'bg-gray-800' : 'bg-white'}`}>\n                    <form className=\"space-y-6\" onSubmit={handleSubmit}>\n                        <div>\n                            <label htmlFor=\"email\" className={`block text-sm font-medium\n                                ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                                Email address\n                            </label>\n                            <div className=\"mt-1\">\n                                <input\n                                    id=\"email\"\n                                    name=\"email\"\n                                    type=\"email\"\n                                    autoComplete=\"email\"\n                                    required\n                                    value={formData.email}\n                                    onChange={handleChange}\n                                    className={`appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 \n                                        focus:outline-none focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\n                                        ${isDarkMode\n                                            ? 'bg-gray-700 border-gray-600 text-white'\n                                            : 'bg-white border-gray-300 text-gray-900'}`}\n                                />\n                            </div>\n                        </div>\n\n                        <div>\n                            <label htmlFor=\"password\" className={`block text-sm font-medium\n                                ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                                Password\n                            </label>\n                            <div className=\"mt-1\">\n                                <input\n                                    id=\"password\"\n                                    name=\"password\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    required\n                                    value={formData.password}\n                                    onChange={handleChange}\n                                    className={`appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 \n                                        focus:outline-none focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\n                                        ${isDarkMode\n                                            ? 'bg-gray-700 border-gray-600 text-white'\n                                            : 'bg-white border-gray-300 text-gray-900'}`}\n                                />\n                            </div>\n                        </div>\n\n                        <div>\n                            <button\n                                type=\"submit\"\n                                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300\"\n                            >\n                                Sign in\n                            </button>\n                        </div>\n                    </form>\n\n                    <div className=\"mt-6\">\n                        <div className=\"relative\">\n                            <div className=\"absolute inset-0 flex items-center\">\n                                <div className={`w-full border-t ${isDarkMode ? 'border-gray-700' : 'border-gray-300'}`}></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}