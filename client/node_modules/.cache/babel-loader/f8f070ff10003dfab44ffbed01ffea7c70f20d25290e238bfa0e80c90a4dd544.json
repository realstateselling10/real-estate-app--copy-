{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useTheme}from'../context/ThemeContext';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const PropertyList=()=>{const API_URL=process.env.REACT_APP_API_URL||\"http://localhost:5000\";const{isDarkMode}=useTheme();const navigate=useNavigate();const[properties,setProperties]=useState([]);const[error,setError]=useState(null);useEffect(()=>{const fetchProperties=async function(){let retryCount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;try{const response=await axios.get(\"\".concat(API_URL,\"/api/property\"),{withCredentials:true,headers:{'Content-Type':'application/json'},timeout:10000// Set timeout to 10 seconds\n});setProperties(response.data);}catch(err){if(retryCount>0){console.warn('Retrying fetch properties:',retryCount);fetchProperties(retryCount-1);}else{console.error('Error fetching properties:',err);setError(err.message);}}};fetchProperties();},[API_URL]);if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error fetching properties: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200\\n            \".concat(isDarkMode?'bg-gray-900 text-white':'bg-gray-50 text-gray-900'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto mb-12 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-4 \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Featured Properties\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg \".concat(isDarkMode?'text-gray-300':'text-gray-600'),children:\"Discover your perfect property in Nepal\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\",children:properties.map(property=>/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg shadow-lg overflow-hidden transition-transform duration-300 hover:transform hover:scale-105\\n                            \".concat(isDarkMode?'bg-gray-800':'bg-white'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-48 w-full\",children:[/*#__PURE__*/_jsx(\"img\",{src:property.images&&property.images[0]?property.images[0]:'default-image-url.jpg',alt:property.title,className:\"w-full h-full object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-4 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-semibold\",children:[\"\\u0930\\u0942 \",property.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2 \".concat(isDarkMode?'text-white':'text-gray-900'),children:property.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm mb-4 \".concat(isDarkMode?'text-gray-300':'text-gray-600'),children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-4 h-4 inline mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]}),property.location]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mb-4 \".concat(isDarkMode?'text-gray-400':'text-gray-700'),children:property.description}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between pt-4 border-t \".concat(isDarkMode?'border-gray-700':'border-gray-200'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[property.size||0,\" \"]})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewDetails(property._id),className:\"w-full mt-6 px-4 py-2 rounded-md font-medium transition duration-300\\n                                    \".concat(isDarkMode?'bg-blue-600 hover:bg-blue-700 text-white':'bg-blue-600 hover:bg-blue-700 text-white'),children:\"View Details\"})]})]},property._id))})]});};export default PropertyList;","map":{"version":3,"names":["React","useEffect","useState","useTheme","useNavigate","axios","jsxs","_jsxs","jsx","_jsx","PropertyList","API_URL","process","env","REACT_APP_API_URL","isDarkMode","navigate","properties","setProperties","error","setError","fetchProperties","retryCount","arguments","length","undefined","response","get","concat","withCredentials","headers","timeout","data","err","console","warn","message","children","className","map","property","src","images","alt","title","price","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","location","description","size","onClick","handleViewDetails","_id"],"sources":["/home/aavash/Desktop/real-estate-app (copy)/client/src/pages/home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useTheme } from '../context/ThemeContext';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst PropertyList = () => {\n    const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n\n    const { isDarkMode } = useTheme();\n    const navigate = useNavigate();\n    const [properties, setProperties] = useState([]);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const fetchProperties = async (retryCount = 3) => {\n            try {\n                const response = await axios.get(`${API_URL}/api/property`, {\n                    withCredentials: true,\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    timeout: 10000 // Set timeout to 10 seconds\n                });\n                setProperties(response.data);\n            } catch (err) {\n                if (retryCount > 0) {\n                    console.warn('Retrying fetch properties:', retryCount);\n                    fetchProperties(retryCount - 1);\n                } else {\n                    console.error('Error fetching properties:', err);\n                    setError(err.message);\n                }\n            }\n        };\n\n        fetchProperties();\n    }, [API_URL]);\n\n    if (error) {\n        return <div>Error fetching properties: {error}</div>;\n    }\n\n    return (\n        <div className={`min-h-screen py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200\n            ${isDarkMode ? 'bg-gray-900 text-white' : 'bg-gray-50 text-gray-900'}`}>\n\n            {/* Header Section */}\n            <div className=\"max-w-7xl mx-auto mb-12 text-center\">\n                <h1 className={`text-4xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                    Featured Properties\n                </h1>\n                <p className={`text-lg ${isDarkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                    Discover your perfect property in Nepal\n                </p>\n            </div>\n\n            {/* Property Grid */}\n            <div className=\"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n                {properties.map((property) => (\n                    <div\n                        key={property._id}\n                        className={`rounded-lg shadow-lg overflow-hidden transition-transform duration-300 hover:transform hover:scale-105\n                            ${isDarkMode ? 'bg-gray-800' : 'bg-white'}`}\n                    >\n                        {/* Property Image */}\n                        <div className=\"relative h-48 w-full\">\n                            <img\n                                src={property.images && property.images[0] ? property.images[0] : 'default-image-url.jpg'}\n                                alt={property.title}\n                                className=\"w-full h-full object-cover\"\n                            />\n                            <div className=\"absolute top-4 right-4 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-semibold\">\n                                रू {property.price}\n                            </div>\n                        </div>\n\n                        {/* Property Details */}\n                        <div className=\"p-6\">\n                            <h3 className={`text-xl font-semibold mb-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                                {property.title}\n                            </h3>\n                            <p className={`text-sm mb-4 ${isDarkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                                <svg className=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                </svg>\n                                {property.location}\n                            </p>\n                            <p className={`text-sm mb-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-700'}`}>\n                                {property.description}\n                            </p>\n\n                            {/* Property Features */}\n                            <div className={`flex justify-between pt-4 border-t ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\n\n\n                                <div className=\"flex items-center\">\n                                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\" />\n                                    </svg>\n                                    <span className=\"text-sm\">{property.size || 0} </span>\n                                </div>\n                            </div>\n\n                            {/* View Details Button */}\n                            <button\n                                onClick={() => handleViewDetails(property._id)}\n                                className={`w-full mt-6 px-4 py-2 rounded-md font-medium transition duration-300\n                                    ${isDarkMode\n                                        ? 'bg-blue-600 hover:bg-blue-700 text-white'\n                                        : 'bg-blue-600 hover:bg-blue-700 text-white'}`}\n                            >\n                                View Details\n                            </button>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default PropertyList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}